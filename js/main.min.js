<<<<<<< HEAD
Adventure={story:"",container:$("#description"),form:$("#input-form"),input:$("#text-input"),$customForm:$("#custom-form-container"),$focus:null,$mainContainer:$("#main-container"),currentPlace:null,save:{},init:function(t,e){var o=this;o.story=t,$(window).on("click",function(){}),o.form.submit(function(t){t.preventDefault(),o.listen(o.input.val())}),o.go(e)},clean:function(){var t=this;t.input.val(""),t.$customForm.html(""),t.$mainContainer.removeClass().addClass("container")},go:function(t){var e=this;if(e.say(e.input.val().toUpperCase()),e.clean(),e.currentPlace=e.story[t],_.has(e.currentPlace,"type"))switch(e.currentPlace.type){case"conversation":e.chat();break;case"question":e.question()}else e.$focus=e.input,e.say(e.currentPlace.description);e.$focus.focus()},listen:function(t){var e=this;t=t.toLowerCase();for(var o=t.split(" "),n=_.keys(e.currentPlace.actions),r=0;r<o.length;r++){var a=o[r];if("help"===a){for(var i="<p>From here you can say:</p><ul>",c=0;c<n.length;c++)n[c].toUpperCase(),i+="<li>"+n[c]+"</li>";i+="</ul>",e.say(i);break}if(_.indexOf(n,a)>=0){e.go(e.currentPlace.actions[a]);break}_.indexOf(n,"default")>=0?e.go(e.currentPlace.actions["default"]):(e.say(a.toUpperCase()),e.say("action not found"),e.clean());break}},say:function(t){var e=this;t="<p>"+t+"</p>",t=t.replace(/\n/g,"</p><p>"),e.container.append(t),window.scrollTo(0,document.body.scrollHeight)},chat:function(t){var e=this;t="undefined"!=typeof t?e.story[t].options:e.currentPlace.options;for(var o='<form id="custom-form">',n=1;n<=_.size(t);n++){var r=1===n?"checked":"";o+='<input id="radio-'+n+'" type="radio" name="conversation" value="'+n+'" '+r+' /><label for="radio-'+n+'">'+t[n]+"</label><br />"}o+='<input type="submit" value="Submit"></form>',e.$customForm.html(o),e.$customForm=$("#custom-form-container"),e.say(e.currentPlace.description),e.$mainContainer.addClass("conversation"),e.$focus=$("#radio-1"),e.$customForm.find("#custom-form").bind("submit",function(t){t.preventDefault();var o=$('input[type="radio"]:checked').val(),n=e.currentPlace.actions[o];e.say(e.currentPlace.options[o].toUpperCase()),e.go(n)})},question:function(t){var e=this,o="undefined"!=typeof t?e.story[t].save:e.currentPlace.save,n='<form id="custom-form" autocomplete="off"><input id="question-input" type="text" autocomplete="off"><input type="submit" value="Submit"></form>';e.$customForm.html(n),e.$customForm=$("#custom-form-container"),e.say(e.currentPlace.description),e.$mainContainer.addClass("question"),e.$focus=$("#question-input"),e.$customForm.find("#custom-form").bind("submit",function(t){t.preventDefault();var n=$("#question-input").val();e.save[o]=n,e.say(n.toUpperCase()),e.go(e.currentPlace.actions["default"])})},placeExist:function(t){var e=this;return"object"==typeof e.story[t]?!0:!1}},$(document).ready(function(){"use strict";Adventure.init(Story,"welcome")}),$(window).load(function(){});
//# sourceMappingURL=/main.min.js.map
=======
Adventure={story:"",container:$("#description"),form:$("#input-form"),input:$("#text-input"),$customForm:$("#custom-form-container"),$focus:null,command:$("#command"),$mainContainer:$("#main-container"),currentPlace:null,save:{},init:function(t,n){var e=this;e.story=t,$(window).on("click",function(){}),e.input.keyup(function(){e.command.text(e.input.val())}),e.form.submit(function(t){t.preventDefault(),e.listen(e.input.val())}),e.go(n)},clean:function(){var t=this;t.input.val(""),t.command.text(""),t.$customForm.html(""),t.$mainContainer.removeClass().addClass("container")},go:function(t){var n=this;if(n.say(n.command.text().toUpperCase()),n.clean(),n.placeExist(t))if(n.currentPlace=n.story[t],_.has(n.currentPlace,"type"))switch(n.currentPlace.type){case"conversation":n.chat();break;case"question":n.question()}else n.$focus=n.input,n.say(n.currentPlace.description);else n.say("Action not found");n.$focus.focus()},listen:function(t){var n=this;t=t.toLowerCase();for(var e=t.split(" "),o=_.keys(n.currentPlace.actions),i=0;i<e.length;i++){var a=e[i];if("help"===a){for(var r="<p>From here you can say:</p><ul>",c=0;c<o.length;c++)o[c].toUpperCase(),r+="<li>"+o[c]+"</li>";r+="</ul>",n.say(r);break}if(_.indexOf(o,a)>=0){n.go(n.currentPlace.actions[a]);break}_.indexOf(o,"default")>=0?n.go(n.currentPlace.actions["default"]):n.say("action not found");break}},say:function(t){var n=this,e=/\{\{.*\}\}/,o=t.match(e);if(o){var i=o[0].substr(0,o[0].length-2).substr(2);t=t.replace(e,n.save[i])}t="<p>"+t+"</p>",t=t.replace(/\n/g,"</p><p>"),n.container.append(t),window.scrollTo(0,document.body.scrollHeight)},chat:function(t){var n=this;t="undefined"!=typeof t?n.story[t].options:n.currentPlace.options;for(var e='<form id="custom-form">',o=1;o<=_.size(t);o++){var i=1===o?"checked":"";e+='<input id="radio-'+o+'" type="radio" name="conversation" value="'+o+'" '+i+' /><label for="radio-'+o+'">'+t[o]+"</label><br />"}e+='<input type="submit" value="Submit"></form>',n.$customForm.html(e),n.$customForm=$("#custom-form-container"),n.say(n.currentPlace.description),n.$mainContainer.addClass("conversation"),n.$focus=$("#radio-1"),n.$customForm.find("#custom-form").bind("submit",function(t){t.preventDefault();var e=$('input[type="radio"]:checked').val(),o=n.currentPlace.actions[e];n.say(n.currentPlace.options[e].toUpperCase()),n.go(o)})},question:function(t){var n=this,e="undefined"!=typeof t?n.story[t].save:n.currentPlace.save,o='<div id="question-command-line"> <span id="question-command"></span><div id="question-caret"></div></div><form id="custom-form" autocomplete="off"><input id="question-input" type="text" autocomplete="off"><input type="submit" value="Submit"></form>';n.$customForm.html(o),n.$customForm=$("#custom-form-container"),n.say(n.currentPlace.description),n.$mainContainer.addClass("question"),$("#question-input").keyup(function(){$("#question-command").text($("#question-input").val())}),n.$focus=$("#question-input"),n.$customForm.find("#custom-form").bind("submit",function(t){t.preventDefault();var o=$("#question-input").val();n.save[e]=o,n.say(o.toUpperCase()),n.go(n.currentPlace.actions["default"])})},placeExist:function(t){var n=this;return"object"==typeof n.story[t]?!0:!1}},$(document).ready(function(){"use strict";Adventure.init(Story,"welcome")}),$(window).load(function(){});
//# sourceMappingURL=main.min.js.map
>>>>>>> master
