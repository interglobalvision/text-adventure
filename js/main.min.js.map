{"version":3,"sources":["main.js"],"names":["Adventure","story","container","$","form","input","currentPlace","init","place","_this","this","submit","event","preventDefault","listen","val","go","placeExist","say","description","console","log","text","toLowerCase","words","split","actions","_","keys","i","length","action","help","x","toUpperCase","indexOf","html","document","ready","Story","window","load"],"mappings":"AAGAA,WACEC,MAAO,GACPC,UAAWC,EAAE,gBACbC,KAAMD,EAAE,eACRE,MAAOF,EAAE,eACTG,aAAc,KACdC,KAAM,SAASN,EAAOO,GACpB,GAAIC,GAAQC,IAGZD,GAAMR,MAAQA,EAGdQ,EAAML,KAAKO,OAAQ,SAASC,GAC1BA,EAAMC,iBACNJ,EAAMK,OAAQL,EAAMJ,MAAMU,SAG5BN,EAAMO,GAAGR,IAGXQ,GAAI,SAASR,GACX,GAAIC,GAAQC,IAGRD,GAAMQ,WAAWT,IACnBC,EAAMH,aAAeG,EAAMR,MAAMO,GAGjCC,EAAMS,IAAIT,EAAMH,aAAaa,cAI7BC,QAAQC,IAAI,qBAIhBP,OAAQ,SAASQ,GACf,GAAIb,GAAQC,IAGZY,GAAKC,aAQL,KAAK,GALDC,GAAQF,EAAKG,MAAM,KAGnBC,EAAUC,EAAEC,KAAKnB,EAAMH,aAAaoB,SAE/BG,EAAI,EAAGA,EAAIL,EAAMM,OAAQD,IAAK,CACrC,GAAIE,GAASP,EAAMK,EAGnB,IAAe,SAAXE,EAAmB,CAIrB,IAAK,GAFDC,GAAO,oCAEFC,EAAI,EAAGA,EAAIP,EAAQI,OAAQG,IAClCP,EAAQO,GAAGC,cACXF,GAAQ,OAASN,EAAQO,GAAK,OAGhCD,IAAQ,QACRvB,EAAMS,IAAIc,EACV,OAGK,GAAIL,EAAEQ,QAAQT,EAAQK,IAAW,EAAG,CAEzCtB,EAAMO,GAAGP,EAAMH,aAAaoB,QAAQK,GACpC,OAMIJ,EAAEQ,QAAQT,EAAS,YAAc,EACnCjB,EAAMO,GAAIP,EAAMH,aAAaoB,QAAnBjB,YAEVW,QAAQC,IAAI,mBAGd,SAMNH,IAAK,SAASI,GACZ,GAAIb,GAAQC,IAEZD,GAAMP,UAAUkC,KAAKd,IAGvBL,WAAY,SAAST,GACnB,GAAIC,GAAQC,IAEZ,OAAqC,gBAAzBD,GAAMR,MAAMO,IACf,GAEA,IAKbL,EAAEkC,UAAUC,MAAM,WAChB,YACAtC,WAAUO,KAAKgC,MAAO,aAGxBpC,EAAEqC,QAAQC,KAAK","file":"main.min.js","sourcesContent":["/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global $, document, Adventure, _, Story */\n\nAdventure = {\n  story: '',\n  container: $('#description'),\n  form: $('#input-form'),\n  input: $('#text-input'),\n  currentPlace: null,\n  init: function(story, place) {\n    var _this = this;\n\n    // Set story\n    _this.story = story;\n\n    // Bind event\n    _this.form.submit( function(event) {\n      event.preventDefault();\n      _this.listen( _this.input.val() );\n    });\n\n    _this.go(place);\n  },\n\n  go: function(place) {\n    var _this = this;\n\n    // Check if action exists\n    if (_this.placeExist(place)) {\n      _this.currentPlace = _this.story[place];\n\n      // Print description\n      _this.say(_this.currentPlace.description);\n\n    } else {\n      // Action not found\n      console.log('Action not found');\n    }\n  },\n\n  listen: function(text) {\n    var _this = this;\n\n    // Convert to lowercase\n    text.toLowerCase();\n\n    // Split text into words in case theres more than just one word\n    var words = text.split(' ');\n\n    // Get an array of all available actions\n    var actions = _.keys(_this.currentPlace.actions);\n\n    for (var i = 0; i < words.length; i++) {\n      var action = words[i];\n\n      // if 'help'\n      if (action === 'help') {\n\n        var help = '<p>Available actions are:</p><ul>';\n\n        for (var x = 0; x < actions.length; x++) {\n          actions[x].toUpperCase();\n          help += '<li>' + actions[x] + '</li>';\n        }\n\n        help += '</ul>';\n        _this.say(help);\n        break;\n\n      // Check if action exists\n      } else if (_.indexOf(actions,action) >= 0) {\n\n        _this.go(_this.currentPlace.actions[action]);\n        break;\n\n      // Action not found\n      } else {\n\n        // Check for default action\n        if (_.indexOf(actions, 'default') >= 0) {\n          _this.go( _this.currentPlace.actions.default);\n        } else {\n          console.log('action not found');\n        }\n\n        break;\n\n      }\n    }\n  },\n\n  say: function(text) {\n    var _this = this;\n\n    _this.container.html(text);\n  },\n\n  placeExist: function(place) {\n    var _this = this;\n\n    if (typeof( _this.story[place] ) === 'object') {\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n};\n$(document).ready(function () {\n  'use strict';\n  Adventure.init(Story, 'welcome');\n});\n\n$(window).load(function () {\n});\n"],"sourceRoot":"/source/"}